<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>werdl</title>
    <link href="
https://cdn.jsdelivr.net/npm/jetbrains-mono@1.0.6/css/jetbrains-mono.min.css
" rel="stylesheet">

    <link rel="stylesheet" href="style.css">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">

    <link rel="shortcut icon" href="favicon.ico" type="image/x-icon">

    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/theme-toggles@version/css/half-sun.min.css" />

</head>

<body class="light-mode">
    <div class="navbar">
        <div class="links">
            <a href="index.html" id="home-link">home</a>
            <a href="#who" id="who-link">who</a>
            <a href="#projects" id="projects-link">projects</a>
            <a href="#miniblog" id="miniblog-link">miniblog</a>
            <a href="#contact" id="contact-link">contact</a>
        </div>

        <div class="socials">
            <a class="social" href="javascript:toggleTheme()"><i id="fa-icon"></i></a>
            <a class="social" href="https://github.com/werdl"><i class="fab fa-github"></i></a>
            <a class="social" href="https://werdl.blogspot.com"><i class="fa-solid fa-blog"></i></a>
            <a class="social tilde" href="https://tilde.club/~werdl">~</a>
        </div>
    </div>

    <div class="content">
        <h1 id="me">werdl</h1>
        hi, i'm werdl. i enjoy programming, electronics, and maths. i'm also a fan of the command line and open source
        software. i enjoy writing low-level, systems, networking and embedded software. i'm currently studying computer
        science.
        <div class="stuff">
            <h2>stuff i know</h2>
            <h3>languages</h3>
            i know extensive c, python and v. i also know a lot of rust, and a fair bit of javascript and other web
            tech.
            <h3>tools</h3>
            i'm very familiar with linux (and other *nix systems), git and vscode. i use bash, powershell (not 6, only
            on windows when forced!) and msys2/mingw64. i also know a fair amount of neovim, and the obligatory amount
            of straight *nix vi. i have used arduino and other microcontroller platforms quite a lot, and am familiar
            with logisim evolution and circuitry.
            <h3>frameworks</h3>
            i enjoy using flask, and other similar web frameworks, for example tide for rust. i also like serde for
            rust. obviously i am familiar with all the needed standard libraries. i also have written a fair few
            frameworks and libraries myself, mainly in rust and python.
        </div>
        <div class="stuff">
            <h2>stuff i want to know</h2>
            <h3>languages</h3>
            i want to learn more about haskell, and other functional languages. i also want to learn more about zig and maybe nim.
            <h3>tools</h3>
            i want to know more about docker and similar.
            <h3>frameworks</h3>
            i want to learn more about webassembly and the tools surrounding it.
        </div>
    </div>
    <hr id="who">
    <div class="content">
        <h1>who i am</h1>
        i am werdl, a computer geek.
        <h2>things i enjoy</h2>
        programming, networking, linux, *nix, open source, low-level stuff, embedded development, systems programming,
        physics, electronics, maths, chemistry, cats, and yoghurt.
        <h2>things i don't enjoy</h2>
        windows, macos, proprietary software, javascript, large corporations, and large dogs.
    </div>

    <hr id="projects">

    <div class="content">
        <h1>projects i have authored</h1>
        i have written a fair few projects, almost all of which are open source.
        <ul>
            <li>
                <a href="https://github.com/spartanproj/os">blueberryos</a> - a simple text based i386 operating system,
                written in c and assembly
            </li>
            <li>
                <a href="https://github.com/werdl/safile">safile</a> - a file access server designed to preserve access
                to files in the event of a system failure, by delegation to a subserver. written in python
            </li>
            <li>
                <a href="https://github.com/spartanproj/rosemary">rosemary</a> - a simple programming language, written
                in python, transpiled to c
            </li>
            <li>
                <a href="https://github.com/dispatch-x/api">dispatch</a> - a secure chat service, written in python. i
                wrote the server and <a href="https://github.com/dispatch-x/py">a python client</a>, but my friend has
                abandoned the frontend :-(
            </li>
            <li>
                <a href="https://github.com/werdl/thetime">thetime</a> - a simple end-user friendly time library,
                written in rust
            </li>
        </ul>
    </div>
    <hr id="miniblog">
    <div class="content" id="miniblog-content">

    </div>

    <hr id="contact">
    <div class="content" id="contact-content">
        <h1>contact</h1>
        <div class="contact">
            email me at <a href="mailto:werdl_is_cool@outlook.com">werdl_is_cool@outlook.com</a>
        </div>
        <div class="socials-bottom">
            <a class="social" href="https://github.com/werdl"><i class="fab fa-github"></i></a>
            <a class="social" href="https://werdl.blogspot.com"><i class="fa-solid fa-blog"></i></a>
            <a class="social tilde" href="https://tilde.club/~werdl">~</a>
        </div>
    </div>

    <footer>
        made by werdl. (c) <div class="year"></div>
    </footer>


    <script>
        let theme = "light";

        function setCookie(key, value) {
            console.log("setting cookie");
            document.cookie = `${key}=${value}; expires=Fri, 31 Dec 9999 23:59:59 GMT`;
            console.log(document.cookie);
        }

        function getCookie(key) {
            let cookies = document.cookie.split("; ");
            for (let cookie of cookies) {
                let [name, value] = cookie.split("=");
                if (name === key) {
                    return value;
                }
            }
            return null;
        }

        function toggleTheme() {
            if (theme === "light") {
                theme = "dark";
                document.body.classList.remove("light-mode");
                document.body.classList.add("dark-mode");
            } else {
                theme = "light";
                document.body.classList.remove("dark-mode");
                document.body.classList.add("light-mode");
            }

            document.querySelector("#fa-icon").classList.remove(theme === "light" ? "fa-sun" : "fa-moon");

            if (!document.querySelector("#fa-icon").classList.contains("fa-solid")) {
                document.querySelector("#fa-icon").classList.add("fas");
            }

            document.querySelector("#fa-icon").classList.add(theme === "light" ? "fa-moon" : "fa-sun");

            setCookie("theme", theme);
        }

        document.addEventListener("DOMContentLoaded", () => {
            let cookie = getCookie("theme");
            if (cookie) {
                theme = cookie;
                document.body.classList.add(theme + "-mode");

                theme = theme === "light" ? "dark" : "light";
                toggleTheme();
            } else {
                setCookie("theme", theme);
            }
        });

        let posts = [
            {
                title: "why i dislike javascript",
                date: "2024-02-27",
                md_content: `
- it's slow
- it's bloated
- it's not very secure
- it refuses to die
- it refuses to remove APIs that are clearly not just bad, but broken \*\*cough*\* XMLHttpRequest \*\*cough*\*`
            }
        ];

        function checkVisible(elm) {
            var rect = elm.getBoundingClientRect();
            var viewHeight = Math.max(document.documentElement.clientHeight, window.innerHeight);
            return !(rect.bottom < 0 || rect.top - viewHeight >= 0);
        }


        let div = document.createElement("div");

        posts.forEach(post => {

            let container_div = document.createElement("div");

            let h2 = document.createElement("h2");
            h2.innerText = post.title;
            div.appendChild(h2);

            let p = document.createElement("p");
            p.innerText = post.date;
            div.appendChild(p);

            let content = document.createElement("div");
            content.innerHTML = marked.parse(post.md_content);
            container_div.appendChild(content);

            if (posts[posts.length - 1] !== post) {
                let br = document.createElement("br");
                container_div.appendChild(br);
            }

            div.appendChild(container_div);
        });

        document.querySelector("#miniblog-content").appendChild(div);

        /* when a hr is scrolled to, the corresponding section is highlighted in the navbar */
        let observer = new IntersectionObserver(entries => {
            entries.forEach(entry => {
                let id = entry.target.getAttribute("id");
                let link = document.querySelector(`.links a[href="#${id}"]`);
                if (entry.intersectionRatio > 0) {
                    // remove from home
                    document.querySelector(".links a[href='index.html']").classList.remove("focus");
                    link.classList.add("focus");
                } else {
                    link.classList.remove("focus");
                }
            });


            // if none are focused, focus home
            if (!document.querySelector(".links a.focus")) {
                document.querySelector(".links a[href='index.html']").classList.add("focus");
            }
        });
        


        document.querySelectorAll("hr").forEach(hr => {
            observer.observe(hr);
        });

        /* update the year in the footer */
        document.querySelector(".year").innerHTML = "&nbsp;" + (new Date().getFullYear()).toString();
    </script>
</body>

</html>